===============================================================================
Wildcard Definitions
===============================================================================

rule:
  input: "{}"
  input: "{a}"
  input: "{{a}}"
  input: "{{{{{a}}}"
  input: "xy{a,[a-z]{3}}zz{b}"

-------------------------------------------------------------------------------

(module
  (rule_definition
    (rule_body
      (input_directive
        (directive_parameters
          (string)))
      (input_directive
        (directive_parameters
          (string
            (wildcard_definition
              (identifier)))))
      (input_directive
        (directive_parameters
          (string
            (wildcard_definition
              (identifier)))))
      (input_directive
        (directive_parameters
          (string
            (wildcard_definition
              (identifier)))))
      (input_directive
        (directive_parameters
          (string
            (wildcard_definition
              (identifier)
              (constraints))
            (wildcard_definition
              (identifier)))))
    )
  )
)


===============================================================================
Wildcard Interpolations
===============================================================================

rule:
  input: "{a}"
  shell:
    """
    {a}
    """
  shell:
    """
    {input.a}
    """
    "output"

-------------------------------------------------------------------------------

(module
  (rule_definition
    (rule_body
      (input_directive
        (directive_parameters
          (string
            (wildcard_definition
              (identifier)))))
      (shell_directive
        (directive_parameters
          (string
            (wildcard
              (identifier)))))
      (shell_directive
        (directive_parameters
          (concatenated_string
            (string
              (wildcard
                (attribute
                  (identifier)
                  (identifier))))
            (string))))
    )
  )
)
